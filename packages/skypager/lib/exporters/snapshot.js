'use strict';

module.exports = function run_snapshot_exporter() {
  var options = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];

  var project = options.project || this;
  var entities = project.entities;

  var snapshot = {
    entities: entities,
    project: {
      paths: project.paths,
      manifest: project.manifest,
      root: project.root,
      cacheKey: project.cacheKey
    },
    assets: project.run.exporter('assets'),
    content: project.run.exporter('content')
  };

  snapshot.html = project.documents.all.reduce(function (memo, doc) {
    memo[doc.id] = doc.html.content;
    return memo;
  }, {});

  return snapshot;
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9leHBvcnRlcnMvc25hcHNob3QuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxNQUFNLENBQUMsT0FBTyxHQUFHLFNBQVMscUJBQXFCLEdBQWdCO01BQWQsT0FBTyx5REFBRyxFQUFFOztBQUMzRCxNQUFJLE9BQU8sR0FBRyxPQUFPLENBQUMsT0FBTyxJQUFJLElBQUksQ0FBQztBQUN0QyxNQUFJLFFBQVEsR0FBRyxPQUFPLENBQUMsUUFBUSxDQUFBOztBQUUvQixNQUFJLFFBQVEsR0FBRztBQUNiLFlBQVEsRUFBUixRQUFRO0FBQ1IsV0FBTyxFQUFFO0FBQ1AsV0FBSyxFQUFFLE9BQU8sQ0FBQyxLQUFLO0FBQ3BCLGNBQVEsRUFBRSxPQUFPLENBQUMsUUFBUTtBQUMxQixVQUFJLEVBQUUsT0FBTyxDQUFDLElBQUk7QUFDbEIsY0FBUSxFQUFFLE9BQU8sQ0FBQyxRQUFRO0tBQzNCO0FBQ0QsVUFBTSxFQUFFLE9BQU8sQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQztBQUN0QyxXQUFPLEVBQUUsT0FBTyxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsU0FBUyxDQUFDO0dBQ3pDLENBQUE7O0FBRUQsVUFBUSxDQUFDLElBQUksR0FBRyxPQUFPLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsVUFBQyxJQUFJLEVBQUUsR0FBRyxFQUFLO0FBQzFELFFBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsR0FBRyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUE7QUFDL0IsV0FBTyxJQUFJLENBQUE7R0FDWixFQUFFLEVBQUUsQ0FBQyxDQUFBOztBQUVOLFNBQU8sUUFBUSxDQUFBO0NBQ2hCLENBQUEiLCJmaWxlIjoic25hcHNob3QuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHJ1bl9zbmFwc2hvdF9leHBvcnRlciAob3B0aW9ucyA9IHt9KSB7XG4gIGxldCBwcm9qZWN0ID0gb3B0aW9ucy5wcm9qZWN0IHx8IHRoaXM7XG4gIGxldCBlbnRpdGllcyA9IHByb2plY3QuZW50aXRpZXNcblxuICBsZXQgc25hcHNob3QgPSB7XG4gICAgZW50aXRpZXMsXG4gICAgcHJvamVjdDoge1xuICAgICAgcGF0aHM6IHByb2plY3QucGF0aHMsXG4gICAgICBtYW5pZmVzdDogcHJvamVjdC5tYW5pZmVzdCxcbiAgICAgIHJvb3Q6IHByb2plY3Qucm9vdCxcbiAgICAgIGNhY2hlS2V5OiBwcm9qZWN0LmNhY2hlS2V5XG4gICAgfSxcbiAgICBhc3NldHM6IHByb2plY3QucnVuLmV4cG9ydGVyKCdhc3NldHMnKSxcbiAgICBjb250ZW50OiBwcm9qZWN0LnJ1bi5leHBvcnRlcignY29udGVudCcpXG4gIH1cblxuICBzbmFwc2hvdC5odG1sID0gcHJvamVjdC5kb2N1bWVudHMuYWxsLnJlZHVjZSgobWVtbywgZG9jKSA9PiB7XG4gICAgbWVtb1tkb2MuaWRdID0gZG9jLmh0bWwuY29udGVudFxuICAgIHJldHVybiBtZW1vXG4gIH0sIHt9KVxuXG4gIHJldHVybiBzbmFwc2hvdFxufVxuIl19